<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TransitEase - Route Suggestion</title>
    <link rel="stylesheet" href="styles.css">
    <script src="routeHandler.js" defer></script>
    <script src="routeHandler_metro.js" defer></script>
</head>
<body>
    <header>
        <h1>Dhaka City Transit System</h1>
        <nav>
            <ul>
                <li><a href="logout.php" onclick="event.preventDefault(); window.location.href='login.php';">Logout</a></li>
            </ul>
        </nav>
        <div>
            <p>User ID: <span id="userId"></span></p>
            <p>User Name: <span id="userName"></span></p>
        </div>
    </header>
    <main>
        <section id="route-suggestion">
            <h2>Suggest a Route (Bus)</h2>
            <form id="routeForm">
                <label for="source">Source:</label>
                <input type="text" id="source" name="source" placeholder="Enter starting stop" required>

                <label for="destination">Destination:</label>
                <input type="text" id="destination" name="destination" placeholder="Enter destination stop" required>

                <button type="button" id="suggestRoute">Suggest Route</button>
            </form>
            <div id="suggestedRoute"></div>
        </section>

        <section id="metro-route-suggestion">
            <h2>Suggest a Route (Metro)</h2>
            <form id="metroRouteForm">
                <label for="metroSource">Source:</label>
                <input type="text" id="metroSource" name="metroSource" placeholder="Enter starting metro stop" required>

                <label for="metroDestination">Destination:</label>
                <input type="text" id="metroDestination" name="metroDestination" placeholder="Enter destination metro stop" required>

                <button type="button" id="suggestMetroRoute">Suggest Metro Route</button>
            </form>
            <div id="suggestedMetroRoute"></div>
        </section>

        <!-- New Buttons -->
        <section id="routes">
            <h2>Explore Routes</h2>
            <button onclick="window.location.href='busRoutes.php'">View All Bus Routes</button>
            <button onclick="window.location.href='metroRoutes.php'">View All Metro Routes</button>
        </section>
    </main>
    <script>
        // Populate user details from sessionStorage
        const userId = sessionStorage.getItem('user_id');
        const userName = sessionStorage.getItem('user_name');

        document.getElementById('userId').textContent = userId ? userId : 'Not Logged In';
        document.getElementById('userName').textContent = userName ? userName : 'Guest';
    </script>
</body>
</html>
